# 数据库开发

### 2.1 开发成功数据库应用的要点

并发控制问题：使用锁机制实现并发

二段锁、共享锁 -> 锁模型

异构的数据库实现锁的方式是存在差异的

Oracle 的锁机制：

- 读一致模型：读不阻塞写。

B 树的结构：
- 树状结构、层次化结构；
- 根节点

索引带来的问题：
- 占用更多的磁盘空间，很多索引的数据量都大于被索引的数据（基本表）的数据量，备份恢复耗时，成本过高；
- 修改被构建索引的属性值时，不得不修改对应的索引，提升处理的开销；
  > 使用两个索引可能和使用一个触发器的开销差不多 
- 索引比被索引数据更紧凑，更新包含了更新数据本身和更新索引，索引更紧凑所以在并发处理时更容易发生冲突。
- 但是查询的次数比更新的次数多，所以仍然需要索引。

